{% extends "base.html" %}
{% import 'components.html' as components %}

{% block content %}


    <!--User's Profile -->
    <div class="row">
        <div class="col s12 m6 offset-m3">
            <div class="card-panel">
                <h3 class="tittle center-align light-blue-text">
                    Hello {{ username }}'s 
                </h3>
            </div>
        </div>
    </div>

    <!--User's recipe summary -->
    <section class="row container">
        <div class="col s12">
        {% if session.user|lower == "admin"|lower %}
            <h3 class="myrecipes-h4 center"><i class="material-icons red accent-4 small">lock</i>
            You have been assigned as the admin of this app</h3>
        {% else %}
            <h4 class="myrecipes-h4">You have submitted the following recipes</h4>
            {% if total_user_recipes > 0 %}
                <h5 class="myrecipes-h5">Showing your {{ total_user_recipes }} recipes</h5>
            {% else %}
            <h6>You have not submitted any recipes Yet!</h6>
                <a href="{{ url_for('add_recipe') }}" class="btn black"><i class="material-icons">add_circle</i>Add a recipe</a>
            {% endif %}
        {% endif %}
        </div>
    </section>

    <!--My recipes only simplified card-->
    <div class="container">
        <div class="row"> 
        {% for recipe in recipe_owner %}
            <div class="col s12 m6 l4">
                <div class="card z-depth-2">
                    <div class="card-image">
                        <img class="responsive-img" src="{{ recipe.recipe_images }}">
                        <a class="btn-floating halfway-fab waves-effect waves-light amber accent-4" href="{{ url_for('view_recipe', recipe_id=recipe._id) }}">
                        <i class="material-icons">create</i></a>
                    </div>
                    <div class="card-content lime lighten-2">
                        <span class="card-title tittle">{{ recipe.recipe_name }}</span>
                        <p class="category_name_recipe blue-text text-darken-2 flow-text">{{ recipe.category_name }}</p>
                        <p class="right-align"><em> created on : {{ recipe.created_date }} </em></p> 
                    </div>
                 </div>
            </div>
        {% endfor %}
        </div>
    </div>

    <!--Pagination-->
    <div class="container">
      {{ pagination.links }}
        <ul class="pagination">
            <li class="disabled"><a href="#!"><i class="material-icons">chevron_left</i></a></li>
            <li class="active"><a href="#!">1</a></li>
            <li class="waves-effect"><a href="#!">2</a></li>
            <li class="waves-effect"><a href="#!">3</a></li>
            <li class="waves-effect"><a href="#!">4</a></li>
            <li class="waves-effect"><a href="#!">5</a></li>
            <li class="waves-effect"><a href="#!"><i class="material-icons">chevron_right</i></a></li>
        </ul>
        {{ pagination.links }}
    </div>

    <div class="container">
        {{ pagination.links }}
        <div class="table-responsive">
            <table class="table table-hover">
            <thead>
                <tr>
                <th>#</th>
                <th>Value</th>
                <th>Fizz?</th>
                </tr>
            </thead>
            <tbody>
                {% for test in tests %}
                <tr>
                <td>{{ test.testname }}</td>
                <td>{{ test.testfield }}</td>
                <td>{{ test._id }}</td>
                </tr>
                {% endfor %}
            </tbody>
            </table>
        </div>
        {{ pagination.links }}
    </div>
{% endblock %}

    
    
